<?xml version="1.0"?>
<launch>
        <param name="use_sim_time" value="true"/>
        <arg name="mav_name" default="jay" />
        <arg name="bag_file" default="/home/lxy/Datasets/asl-flights/flight_3.bag" />

        <include file="$(find coxgraph)/launch/asl_flights/rovio.launch">
                <arg name="id" value="0" />
        </include>

        <include file="$(find coxgraph)/launch/firefly/coxgraph_client.launch">
                <arg name="id" value="0" />
                <arg name="pointcloud_topic" value="/$(arg mav_name)_0/depth/color/points" />
                <arg name="world_frame_suffix" value="map" />
                <arg name="debug_tsdf" value="false" />
                <arg name="pointcloud_frame" value="depth_0" />
        </include>

        <node name="player_0" pkg="rosbag" type="play" args="$(arg bag_file) --clock -q /jay/cam0/image_raw:=/$(arg mav_name)_0/cam0/image_raw /jay/imu0:=/$(arg mav_name)_0/imu0 /jay/depth/color/points:=/$(arg mav_name)_0/depth/color/points" output="log" />

        <node name="recorder" pkg="rosbag" type="record" output="screen" args="-O /workspaces/voxgraph_melodic_ws/eval/esdf_pointcloud2.bag /coxgraph/tsdf_client_0/esdf_pointcloud2"></node>
</launch>
