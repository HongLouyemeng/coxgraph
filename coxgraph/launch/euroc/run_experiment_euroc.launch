<?xml version="1.0"?>
<launch>
  <param name="use_sim_time" value="false" />

  <arg name="bag_file0" default="/home/lxy/Datasets/euroc/MH_01_easy.bag"/>
  <arg name="bag_file1" default="/home/lxy/Datasets/euroc/MH_02_easy.bag"/>
  <arg name="bag_file2" default="/home/lxy/Datasets/euroc/MH_03_medium.bag"/>

  <arg name="evaluate" default="true"/>

  <include file="$(find coxgraph)/launch/euroc/ccmslam_euroc.launch">
    <arg name="id" value="0"/>
    <arg name="clock" value="false"/>
    <arg name="play_speed" value="1"/>
    <arg name="bag_file" value="$(arg bag_file0)"/>
  </include>

  <include file="$(find coxgraph)/launch/firefly/coxgraph_client.launch">
    <arg name="id" value="0"/>
    <arg name="pointcloud_topic" default="/pointcloud_0"/>
  </include>

  <include file="$(find coxgraph)/launch/euroc/ccmslam_euroc.launch">
    <arg name="id" value="1"/>
    <arg name="clock" value="false"/>
    <arg name="play_speed" value="1"/>
    <arg name="bag_file" value="$(arg bag_file1)"/>
  </include>

  <include file="$(find coxgraph)/launch/firefly/coxgraph_client.launch">
    <arg name="id" value="1"/>
    <arg name="pointcloud_topic" default="/pointcloud_1"/>
  </include>

  <include file="$(find coxgraph)/launch/euroc/ccmslam_euroc.launch">
    <arg name="id" value="2"/>
    <arg name="clock" value="false"/>
    <arg name="play_speed" value="1"/>
    <arg name="bag_file" value="$(arg bag_file2)"/>
  </include>

  <include file="$(find coxgraph)/launch/firefly/coxgraph_client.launch">
    <arg name="id" value="2"/>
    <arg name="pointcloud_topic" default="/pointcloud_2"/>
  </include>

  <include file="$(find node_evaluator)/launch/evaluate.launch">
    <arg name="config_file" default="$(find coxgraph)/config/evaluation_config.yaml"/>
  </include>

  <include file="$(find ccmslam)/launch/Server.launch"/>

  <include file="$(find coxgraph)/launch/coxgraph_server.launch" />

</launch>